!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(t){"use strict";function e(e){return t.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e?e.replace(this.re,this.ch):""}),e}function i(e){var i=arguments,n=e;[].shift.apply(i);var s,o=this.each(function(){var e=t(this);if(e.is("select")){var o=e.data("selectpicker"),r="object"==typeof n&&n;if(o){if(r)for(var a in r)r.hasOwnProperty(a)&&(o.options[a]=r[a])}else{var l=t.extend({},m.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),r);l.template=t.extend({},m.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,r.template),e.data("selectpicker",o=new m(this,l))}"string"==typeof n&&(s=o[n]instanceof Function?o[n].apply(o,i):o.options[n])}});return void 0!==s?s:o}var n,s,o,r,a,l,h;String.prototype.includes||(r={}.toString,a=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),l="".indexOf,h=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==r.call(t))throw new TypeError;var i=e.length,n=String(t),s=n.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;return a!=a&&(a=0),!(s+Math.min(Math.max(a,0),i)>i)&&-1!=l.call(e,n,a)},a?a(String.prototype,"includes",{value:h,configurable:!0,writable:!0}):String.prototype.includes=h),String.prototype.startsWith||(n=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),s={}.toString,o=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==s.call(t))throw new TypeError;var i=e.length,n=String(t),o=n.length,r=arguments.length>1?arguments[1]:void 0,a=r?Number(r):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(o+l>i)return!1;for(var h=-1;++h<o;)if(e.charCodeAt(l+h)!=n.charCodeAt(h))return!1;return!0},n?n(String.prototype,"startsWith",{value:o,configurable:!0,writable:!0}):String.prototype.startsWith=o),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var d={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,i){return i&&!d.useDefault&&t(e).data("selected",!0),d._set.apply(this,arguments)};var p=null,c=function(){try{return new Event("change"),!0}catch(t){return!1}}();t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?(c?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):i.fireEvent?((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)},t.expr.pseudos.icontains=function(e,i,n){var s=t(e).find("a");return(s.data("tokens")||s.text()).toString().toUpperCase().includes(n[3].toUpperCase())},t.expr.pseudos.ibegins=function(e,i,n){var s=t(e).find("a");return(s.data("tokens")||s.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},t.expr.pseudos.aicontains=function(e,i,n){var s=t(e).find("a");return(s.data("tokens")||s.data("normalizedText")||s.text()).toString().toUpperCase().includes(n[3].toUpperCase())},t.expr.pseudos.aibegins=function(e,i,n){var s=t(e).find("a");return(s.data("tokens")||s.data("normalizedText")||s.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var u=function(t){var e=function(e){return t[e]},i="(?:"+Object.keys(t).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,e):t}},g=u({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),f=u({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),m=function(e,i){d.useDefault||(t.valHooks.select.set=d._set,d.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=m.prototype.val,this.render=m.prototype.render,this.refresh=m.prototype.refresh,this.setStyle=m.prototype.setStyle,this.selectAll=m.prototype.selectAll,this.deselectAll=m.prototype.deselectAll,this.destroy=m.prototype.destroy,this.remove=m.prototype.remove,this.show=m.prototype.show,this.hide=m.prototype.hide,this.init()};m.VERSION="1.12.4",m.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-round btn-simple",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},m.prototype={constructor:m,init:function(){var e=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+g(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu" role="combobox">'+s+o+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+a+"</div></div>";return t(l)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){var i=this,n=[],s=0,o=document.createElement("option"),r=-1,a=function(t,e,i,n){return"<li"+(void 0!==i&&""!==i?' class="'+i+'"':"")+(void 0!==e&&null!==e?' data-original-index="'+e+'"':"")+(void 0!==n&&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},l=function(n,s,o,r){return'<a tabindex="0"'+(void 0!==s?' class="'+s+'"':"")+(o?' style="'+o+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+e(g(t(n).html()))+'"':"")+(void 0!==r||null!==r?' data-tokens="'+r+'"':"")+' role="option">'+n+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var h=this.$element[0];o.className="bs-title-option",o.innerHTML=this.options.title,o.value="",h.insertBefore(o,h.firstChild),void 0===t(h.options[h.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}var d=this.$element.find("option");return d.each(function(e){var o=t(this);if(r++,!o.hasClass("bs-title-option")){var h,p=this.className||"",c=g(this.style.cssText),u=o.data("content")?o.data("content"):o.html(),f=o.data("tokens")?o.data("tokens"):null,m=void 0!==o.data("subtext")?'<small class="text-muted">'+o.data("subtext")+"</small>":"",v=void 0!==o.data("icon")?'<span class="'+i.options.iconBase+" "+o.data("icon")+'"></span> ':"",b=o.parent(),x="OPTGROUP"===b[0].tagName,y=x&&b[0].disabled,w=this.disabled||y;if(""!==v&&w&&(v="<span>"+v+"</span>"),i.options.hideDisabled&&(w&&!x||y))return h=o.data("prevHiddenIndex"),o.next().data("prevHiddenIndex",void 0!==h?h:e),void r--;if(o.data("content")||(u=v+'<span class="text">'+u+m+"</span>"),x&&!0!==o.data("divider")){if(i.options.hideDisabled&&w){if(void 0===b.data("allOptionsDisabled")){var C=b.children();b.data("allOptionsDisabled",C.filter(":disabled").length===C.length)}if(b.data("allOptionsDisabled"))return void r--}var S=" "+b[0].className||"";if(0===o.index()){s+=1;var $=b[0].label,k=void 0!==b.data("subtext")?'<small class="text-muted">'+b.data("subtext")+"</small>":"";$=(b.data("icon")?'<span class="'+i.options.iconBase+" "+b.data("icon")+'"></span> ':"")+'<span class="text">'+g($)+k+"</span>",0!==e&&n.length>0&&(r++,n.push(a("",null,"divider",s+"div"))),r++,n.push(a($,null,"dropdown-header"+S,s))}if(i.options.hideDisabled&&w)return void r--;n.push(a(l(u,"opt "+p+S,c,f),e,"",s))}else if(!0===o.data("divider"))n.push(a("",e,"divider"));else if(!0===o.data("hidden"))h=o.data("prevHiddenIndex"),o.next().data("prevHiddenIndex",void 0!==h?h:e),n.push(a(l(u,p,c,f),e,"hidden is-hidden"));else{var R=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!R&&i.options.hideDisabled&&void 0!==(h=o.data("prevHiddenIndex"))){var E=d.eq(h)[0].previousElementSibling;E&&"OPTGROUP"===E.tagName&&!E.disabled&&(R=!0)}R&&(r++,n.push(a("",null,"divider",s+"div"))),n.push(a(l(u,p,c,f),e))}i.liObj[e]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this,s=this.$element.find("option");!1!==e&&s.each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var o=s.map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),s=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content").toString():s+i.html()+e}}).toArray(),r=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&o.length>a[1]||1==a.length&&o.length>=2){i=this.options.hideDisabled?", [disabled]":"";var l=s.not('[data-divider="true"], [data-hidden="true"]'+i).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,l):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",l.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",f(t.trim(r.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("ul"),o=document.createElement("li"),r=document.createElement("li"),a=document.createElement("a"),l=document.createElement("span"),h=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,c=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu",s.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),a.appendChild(l),r.appendChild(a),s.appendChild(r),s.appendChild(o),h&&n.appendChild(h),d){var u=document.createElement("input");d.className="bs-searchbox",u.className="form-control",d.appendChild(u),n.appendChild(d)}p&&n.appendChild(p),n.appendChild(s),c&&n.appendChild(c),i.appendChild(n),document.body.appendChild(i);var g=a.offsetHeight,f=h?h.offsetHeight:0,m=d?d.offsetHeight:0,v=p?p.offsetHeight:0,b=c?c.offsetHeight:0,x=t(o).outerHeight(!0),y="function"==typeof getComputedStyle&&getComputedStyle(n),w=y?null:t(n),C={vert:parseInt(y?y.paddingTop:w.css("paddingTop"))+parseInt(y?y.paddingBottom:w.css("paddingBottom"))+parseInt(y?y.borderTopWidth:w.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:w.css("borderBottomWidth")),horiz:parseInt(y?y.paddingLeft:w.css("paddingLeft"))+parseInt(y?y.paddingRight:w.css("paddingRight"))+parseInt(y?y.borderLeftWidth:w.css("borderLeftWidth"))+parseInt(y?y.borderRightWidth:w.css("borderRightWidth"))},S={vert:C.vert+parseInt(y?y.marginTop:w.css("marginTop"))+parseInt(y?y.marginBottom:w.css("marginBottom"))+2,horiz:C.horiz+parseInt(y?y.marginLeft:w.css("marginLeft"))+parseInt(y?y.marginRight:w.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:g,headerHeight:f,searchHeight:m,actionsHeight:v,doneButtonHeight:b,dividerHeight:x,menuPadding:C,menuExtras:S}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var e,i,n,s,o,r,a,l,h=this,d=this.$menu,p=this.$menuInner,c=t(window),u=this.$newElement[0].offsetHeight,g=this.$newElement[0].offsetWidth,f=this.sizeInfo.liHeight,m=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,b=this.sizeInfo.actionsHeight,x=this.sizeInfo.doneButtonHeight,y=this.sizeInfo.dividerHeight,w=this.sizeInfo.menuPadding,C=this.sizeInfo.menuExtras,S=this.options.hideDisabled?".disabled":"",$=function(){var e,i=h.$newElement.offset(),n=t(h.options.container);h.options.container&&!n.is("body")?((e=n.offset()).top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0};var s=h.options.windowPadding;o=i.top-e.top-c.scrollTop(),r=c.height()-o-u-e.top-s[2],a=i.left-e.left-c.scrollLeft(),l=c.width()-a-g-e.left-s[1],o-=s[0],a-=s[3]};if($(),"auto"===this.options.size){var k=function(){var c,u=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},y=h.$menuInner[0].getElementsByTagName("li"),S=Array.prototype.filter?Array.prototype.filter.call(y,u("hidden",!1)):h.$lis.not(".hidden"),k=Array.prototype.filter?Array.prototype.filter.call(S,u("dropdown-header",!0)):S.filter(".dropdown-header");$(),e=r-C.vert,i=l-C.horiz,h.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height"),d.data("width")||d.data("width",d.width()),s=d.data("width")):(n=d.height(),s=d.width()),h.options.dropupAuto&&h.$newElement.toggleClass("dropup",o>r&&e-C.vert<n),h.$newElement.hasClass("dropup")&&(e=o-C.vert),"auto"===h.options.dropdownAlignRight&&d.toggleClass("dropdown-menu-right",a>l&&i-C.horiz<s-g),c=S.length+k.length>3?3*f+C.vert-2:0,d.css({"max-height":e+"px",overflow:"hidden","min-height":c+m+v+b+x+"px"}),p.css({"max-height":e-m-v-b-x-w.vert+"px","overflow-y":"auto","min-height":Math.max(c-w.vert,0)+"px"})};k(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",k),c.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",k)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(S).length>this.options.size){var R=this.$lis.not(".divider").not(S).children().slice(0,this.options.size).last().parent().index(),E=this.$lis.slice(0,R+1).filter(".divider").length;e=f*this.options.size+E*y+w.vert,h.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height")):n=d.height(),h.options.dropupAuto&&this.$newElement.toggleClass("dropup",o>r&&e-C.vert<n),d.css({"max-height":e+m+v+b+x+"px",overflow:"hidden","min-height":""}),p.css({"max-height":e-w.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n,s=this,o=t(this.options.container),r=function(t){s.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),o.is("body")?i={top:0,left:0}:((i=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=t.hasClass("dropup")?0:t[0].offsetHeight,s.$bsContainer.css({top:e.top-i.top+n,left:e.left-i.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);s.isDisabled()||(r(s.$newElement),s.$bsContainer.appendTo(s.options.container).toggleClass("open",!e.hasClass("open")).append(s.$menu))}),t(window).on("resize scroll",function(){r(s.$newElement)}),this.$element.on("hide.bs.select",function(){s.$menu.data("height",s.$menu.height()),s.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||!1===e.options.size)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var n=t(this),s=n.parent().data("originalIndex"),o=e.$element.val(),r=e.$element.prop("selectedIndex"),a=!0;if(e.multiple&&1!==e.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var l=e.$element.find("option"),h=l.eq(s),d=h.prop("selected"),c=h.parent("optgroup"),u=e.options.maxOptions,g=c.data("maxOptions")||!1;if(e.multiple){if(h.prop("selected",!d),e.setSelected(s,!d),n.blur(),!1!==u||!1!==g){var f=u<l.filter(":selected").length,m=g<c.find("option:selected").length;if(u&&f||g&&m)if(u&&1==u)l.prop("selected",!1),h.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(s,!0);else if(g&&1==g){c.find("option:selected").prop("selected",!1),h.prop("selected",!0);var v=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),e.setSelected(s,!0)}else{var b="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,x="function"==typeof b?b(u,g):b,y=x[0].replace("{n}",u),w=x[1].replace("{n}",g),C=t('<div class="notify"></div>');x[2]&&(y=y.replace("{var}",x[2][u>1?0:1]),w=w.replace("{var}",x[2][g>1?0:1])),h.prop("selected",!1),e.$menu.append(C),u&&f&&(C.append(t("<div>"+y+"</div>")),a=!1,e.$element.trigger("maxReached.bs.select")),g&&m&&(C.append(t("<div>"+w+"</div>")),a=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(s,!1)},10),C.delay(750).fadeOut(300,function(){t(this).remove()})}}}else l.prop("selected",!1),h.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),e.setSelected(s,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),a&&(o!=e.$element.val()&&e.multiple||r!=e.$element.prop("selectedIndex")&&!e.multiple)&&(p=[s,h.prop("selected"),d],e.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1),e.$element.trigger("changed.bs.select",p),p=null})},liveSearchListener:function(){var i=this,n=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$lis.not(".is-hidden").removeClass("hidden"),i.$lis.filter(".active").removeClass("active"),n.remove(),i.$searchbox.val()){var s,o=i.$lis.not(".is-hidden, .divider, .dropdown-header");if((s=i.options.liveSearchNormalize?o.not(":a"+i._searchStyle()+'("'+e(i.$searchbox.val())+'")'):o.not(":"+i._searchStyle()+'("'+i.$searchbox.val()+'")')).length===o.length)n.html(i.options.noneResultsText.replace("{0}",'"'+g(i.$searchbox.val())+'"')),i.$menuInner.append(n),i.$lis.addClass("hidden");else{s.addClass("hidden");var r,a=i.$lis.not(".hidden");a.each(function(e){var i=t(this);i.hasClass("divider")?void 0===r?i.addClass("hidden"):(r&&r.addClass("hidden"),r=i):i.hasClass("dropdown-header")&&a.eq(e+1).data("optgroup")!==i.data("optgroup")?i.addClass("hidden"):r=null}),r&&r.addClass("hidden"),o.not(".hidden").first().addClass("active"),i.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),s=n.length,o=[];if(e){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",e);for(var r=0;r<s;r++){var a=n[r].getAttribute("data-original-index");o[o.length]=i.eq(a)[0]}t(o).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var i,n,s,o,r=t(this),a=(r.is("input")?r.parent().parent():r.parent()).data("this"),l=":not(.disabled, .hidden, .dropdown-header, .divider)",h={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(o=a.$newElement.hasClass("open"))&&(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||e.keyCode>=65&&e.keyCode<=90))return a.options.container?a.$button.trigger("click"):(a.setSize(),a.$menu.parent().addClass("open"),o=!0),void a.$searchbox.focus();if(a.options.liveSearch&&/(^9$|27)/.test(e.keyCode.toString(10))&&o&&(e.preventDefault(),e.stopPropagation(),a.$menuInner.click(),a.$button.focus()),/(38|40)/.test(e.keyCode.toString(10))){if(!(i=a.$lis.filter(l)).length)return;n=a.options.liveSearch?i.index(i.filter(".active")):i.index(i.find("a").filter(":focus").parent()),s=a.$menuInner.data("prevIndex"),38==e.keyCode?(!a.options.liveSearch&&n!=s||-1==n||n--,n<0&&(n+=i.length)):40==e.keyCode&&((a.options.liveSearch||n==s)&&n++,n%=i.length),a.$menuInner.data("prevIndex",n),a.options.liveSearch?(e.preventDefault(),r.hasClass("dropdown-toggle")||(i.removeClass("active").eq(n).addClass("active").children("a").focus(),r.focus())):i.eq(n).children("a").focus()}else if(!r.is("input")){var d,p=[];(i=a.$lis.filter(l)).each(function(i){t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==h[e.keyCode]&&p.push(i)}),d=t(document).data("keycount"),d++,t(document).data("keycount",d),t.trim(t(":focus").text().toLowerCase()).substring(0,1)!=h[e.keyCode]?(d=1,t(document).data("keycount",d)):d>=p.length&&(t(document).data("keycount",0),d>p.length&&(d=1)),i.eq(p[d-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&a.options.selectOnTab)&&o){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),a.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(a.$menuInner.find(".active a").click(),r.focus());else{var c=t(":focus");c.click(),c.focus(),e.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&o&&(a.multiple||a.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!o)&&(a.$menu.parent().removeClass("open"),a.options.container&&a.$newElement.removeClass("open"),a.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var v=t.fn.selectpicker;t.fn.selectpicker=i,t.fn.selectpicker.Constructor=m,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=v,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',m.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);i.call(e,e.data())})})}(t)}),function(e){e.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0",railBorderRadius:"0"},i);return this.each(function(){function s(t){if(h){var i=0;(t=t||window.event).wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var s=t.target||t.srcTarget||t.srcElement;e(s).closest("."+n.wrapperClass).is(w.parent())&&o(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function o(t,e,i){y=!1;var s=t,o=w.outerHeight()-R.outerHeight();if(e&&(s=parseInt(R.css("top"))+t*parseInt(n.wheelStep)/100*R.outerHeight(),s=Math.min(Math.max(s,0),o),s=t>0?Math.ceil(s):Math.floor(s),R.css({top:s+"px"})),s=(f=parseInt(R.css("top"))/(w.outerHeight()-R.outerHeight()))*(w[0].scrollHeight-w.outerHeight()),i){var r=(s=t)/w[0].scrollHeight*w.outerHeight();r=Math.min(Math.max(r,0),o),R.css({top:r+"px"})}w.scrollTop(s),w.trigger("slimscrolling",~~s),a(),l()}function r(){g=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),x),R.css({height:g+"px"});var t=g==w.outerHeight()?"none":"block";R.css({display:t})}function a(){if(r(),clearTimeout(c),f==~~f){if(y=n.allowPageScroll,m!=f){var t=0==~~f?"top":"bottom";w.trigger("slimscroll",t)}}else y=!1;m=f,g>=w.outerHeight()?y=!0:(R.stop(!0,!0).fadeIn("fast"),n.railVisible&&k.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(c=setTimeout(function(){n.disableFadeOut&&h||d||p||(R.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var h,d,p,c,u,g,f,m,v,b="<div></div>",x=30,y=!1,w=e(this);if(w.parent().hasClass(n.wrapperClass)){var C=w.scrollTop();if(R=w.closest("."+n.barClass),k=w.closest("."+n.railClass),r(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var S=w.parent().parent().height();w.parent().css("height",S),w.css("height",S)}if("scrollTo"in i)C=parseInt(n.scrollTo);else if("scrollBy"in i)C+=parseInt(n.scrollBy);else if("destroy"in i)return R.remove(),k.remove(),void w.unwrap();o(C,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){n.height="auto"==n.height?w.parent().height():n.height;var $=e(b).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});w.css({overflow:"hidden",width:n.width,height:n.height});var k=e(b).addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),R=e(b).addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),E="right"==n.position?{right:n.distance}:{left:n.distance};k.css(E),R.css(E),w.wrap($),w.parent().append(R),w.parent().append(k),n.railDraggable&&R.bind("mousedown",function(i){var n=e(document);return p=!0,t=parseFloat(R.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,R.css("top",currTop),o(0,R.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){p=!1,l(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),k.hover(function(){a()},function(){l()}),R.hover(function(){d=!0},function(){d=!1}),w.hover(function(){h=!0,a(),l()},function(){h=!1,l()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(u=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){y||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(o((u-t.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),u=t.originalEvent.touches[0].pageY)}),r(),"bottom"===n.start?(R.css({top:w.outerHeight()-R.outerHeight()}),o(0,!0)):"top"!==n.start&&(o(e(n.start).position().top,null,!0),n.alwaysVisible||R.hide()),v=this,window.addEventListener?(v.addEventListener("DOMMouseScroll",s,!1),v.addEventListener("mousewheel",s,!1)):document.attachEvent("onmousewheel",s)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.apply(t)}):"object"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}("object"==typeof global?global:this,function(){"use strict";function t(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function e(e){var i,n=l.call(e);return"[object String]"===n?a(e):t(e)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(n)&&e.hasOwnProperty("length")?e:t(i=e)&&i.nodeType>0?[e]:[]}function i(t){var e,i,n,s,o={top:0,left:0},r=t&&t.ownerDocument;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),i=null!==(s=n=r)&&s===s.window?n:9===n.nodeType&&n.defaultView,{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}}function n(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+":"+t[i]+";");return e}function s(t,e,i){if(i){i.classList.remove("waves-rippling");var s=i.getAttribute("data-x"),o=i.getAttribute("data-y"),r=i.getAttribute("data-scale"),a=i.getAttribute("data-translate"),l=350-(Date.now()-Number(i.getAttribute("data-hold")));l<0&&(l=0),"mousemove"===t.type&&(l=150);var h="mousemove"===t.type?2500:d.duration;setTimeout(function(){var t={top:o+"px",left:s+"px",opacity:"0","-webkit-transition-duration":h+"ms","-moz-transition-duration":h+"ms","-o-transition-duration":h+"ms","transition-duration":h+"ms","-webkit-transform":r+" "+a,"-moz-transform":r+" "+a,"-ms-transform":r+" "+a,"-o-transform":r+" "+a,transform:r+" "+a};i.setAttribute("style",n(t)),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},h)},l)}}function o(t){var e=function(t){if(!1===c.allowEvent(t))return null;for(var e=null,i=t.target||t.srcElement;null!==i.parentElement;){if(i.classList.contains("waves-effect")&&!(i instanceof SVGElement)){e=i;break}i=i.parentElement}return e}(t);if(null!==e){if(e.disabled||e.getAttribute("disabled")||e.classList.contains("disabled"))return;if(c.registerEvent(t),"touchstart"===t.type&&d.delay){var i=!1,n=setTimeout(function(){n=null,d.show(t,e)},d.delay),s=function(s){n&&(clearTimeout(n),n=null,d.show(t,e)),i||(i=!0,d.hide(s,e))};e.addEventListener("touchmove",function(t){n&&(clearTimeout(n),n=null),s(t)},!1),e.addEventListener("touchend",s,!1),e.addEventListener("touchcancel",s,!1)}else d.show(t,e),h&&(e.addEventListener("touchend",d.hide,!1),e.addEventListener("touchcancel",d.hide,!1)),e.addEventListener("mouseup",d.hide,!1),e.addEventListener("mouseleave",d.hide,!1)}}var r=r||{},a=document.querySelectorAll.bind(document),l=Object.prototype.toString,h="ontouchstart"in window,d={duration:750,delay:200,show:function(t,e,s){if(2===t.button)return!1;e=e||this;var o=document.createElement("div");o.className="waves-ripple waves-rippling",e.appendChild(o);var r=i(e),a=0,l=0;"touches"in t&&t.touches.length?(a=t.touches[0].pageY-r.top,l=t.touches[0].pageX-r.left):(a=t.pageY-r.top,l=t.pageX-r.left),l=l>=0?l:0,a=a>=0?a:0;var h="scale("+e.clientWidth/100*3+")",p="translate(0,0)";s&&(p="translate("+s.x+"px, "+s.y+"px)"),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-x",l),o.setAttribute("data-y",a),o.setAttribute("data-scale",h),o.setAttribute("data-translate",p);var c={top:a+"px",left:l+"px"};o.classList.add("waves-notransition"),o.setAttribute("style",n(c)),o.classList.remove("waves-notransition"),c["-webkit-transform"]=h+" "+p,c["-moz-transform"]=h+" "+p,c["-ms-transform"]=h+" "+p,c["-o-transform"]=h+" "+p,c.transform=h+" "+p,c.opacity="1";var u="mousemove"===t.type?2500:d.duration;c["-webkit-transition-duration"]=u+"ms",c["-moz-transition-duration"]=u+"ms",c["-o-transition-duration"]=u+"ms",c["transition-duration"]=u+"ms",o.setAttribute("style",n(c))},hide:function(t,e){for(var i=(e=e||this).getElementsByClassName("waves-rippling"),n=0,o=i.length;n<o;n++)s(t,e,i[n])}},p={input:function(t){var e=t.parentNode;if("i"!==e.tagName.toLowerCase()||!e.classList.contains("waves-effect")){var i=document.createElement("i");i.className=t.className+" waves-input-wrapper",t.className="waves-button-input",e.replaceChild(i,t),i.appendChild(t);var n=window.getComputedStyle(t,null),s=n.color,o=n.backgroundColor;i.setAttribute("style","color:"+s+";background:"+o),t.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(t){var e=t.parentNode;if("i"!==e.tagName.toLowerCase()||!e.classList.contains("waves-effect")){var i=document.createElement("i");e.replaceChild(i,t),i.appendChild(t)}}},c={touches:0,allowEvent:function(t){var e=!0;return/^(mousedown|mousemove)$/.test(t.type)&&c.touches&&(e=!1),e},registerEvent:function(t){var e=t.type;"touchstart"===e?c.touches+=1:/^(touchend|touchcancel)$/.test(e)&&setTimeout(function(){c.touches&&(c.touches-=1)},500)}};return r.init=function(t){var e=document.body;"duration"in(t=t||{})&&(d.duration=t.duration),"delay"in t&&(d.delay=t.delay),h&&(e.addEventListener("touchstart",o,!1),e.addEventListener("touchcancel",c.registerEvent,!1),e.addEventListener("touchend",c.registerEvent,!1)),e.addEventListener("mousedown",o,!1)},r.attach=function(t,i){t=e(t),"[object Array]"===l.call(i)&&(i=i.join(" ")),i=i?" "+i:"";for(var n,s,o=0,r=t.length;o<r;o++)n=t[o],s=n.tagName.toLowerCase(),-1!==["input","img"].indexOf(s)&&(p[s](n),n=n.parentElement),-1===n.className.indexOf("waves-effect")&&(n.className+=" waves-effect"+i)},r.ripple=function(t,n){var s=(t=e(t)).length;if((n=n||{}).wait=n.wait||0,n.position=n.position||null,s)for(var o,r,a,l={},h=0,p={type:"mousedown",button:1};h<s;h++)if(o=t[h],r=n.position||{x:o.clientWidth/2,y:o.clientHeight/2},a=i(o),l.x=a.left+r.x,l.y=a.top+r.y,p.pageX=l.x,p.pageY=l.y,d.show(p,o),n.wait>=0&&null!==n.wait){setTimeout(function(t,e){return function(){d.hide(t,e)}}({type:"mouseup",button:1},o),n.wait)}},r.calm=function(t){for(var i={type:"mouseup",button:1},n=0,s=(t=e(t)).length;n<s;n++)d.hide(i,t[n])},r.displayEffect=function(t){console.error("Waves.displayEffect() has been deprecated and will be removed in future version. Please use Waves.init() to initialize Waves effect"),r.init(t)},r}),function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},e="undefined"!=typeof module&&module.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,s=i.length,o={};n<s;n++)if((e=i[n])&&e[1]in t){for(n=0;n<e.length;n++)o[i[0][n]]=e[n];return o}return!1}(),s={change:n.fullscreenchange,error:n.fullscreenerror},o={request:function(e){var s=n.requestFullscreen;e=e||t.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?e[s]():e[s](i&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(e,i){var n=s[e];n&&t.addEventListener(n,i,!1)},off:function(e,i){var n=s[e];n&&t.removeEventListener(n,i,!1)},raw:n};n?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}}),e?module.exports=o:window.screenfull=o):e?module.exports=!1:window.screenfull=!1}(),function(t,e,i){var n;n=function(i){"use strict";var n,s,o,r,a,l,h,d,p,c,u,g,f,m,v,b,x,y,w,C,S,$,k,R,E,T,I,H,L,M,A={},P=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},E='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',s=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),i.extend.apply(i,e))):t.prototype=arguments[0],t.prototype.cls=t,t},i.SPFormatClass=o=s({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,s,o,r,a,l=this,h=t;return this.format.replace(this.fre,function(){return s=arguments[1],o=arguments[3],(n=l.precre.exec(s))?(a=n[2],s=n[1]):a=!1,void 0===(r=h[s])?"":o&&e&&e[o]?e[o].get?e[o].get(r)||r:e[o][r]||r:(p(r)&&(r=i.get("numberFormatter")?i.get("numberFormatter")(r):f(r,a,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),r)})}}),i.spformat=function(t,e){return new o(t,e)},r=function(t,e,i){return t<e?e:t>i?i:t},a=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4)%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]:(n=(t.length*i+2)/4)%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},h=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},d=function(t,e){var i,n,s=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&s.push(t[i]);return s},p=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=function(t,e,n,s,o){var r,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(r=(r=i.inArray(".",t))<0?t.length:r)<t.length&&(t[r]=o),a=r-n;a>0;a-=n)t.splice(a,0,s);return t.join("")},c=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},g=function(t){return i.isArray(t)?t:[t]},u=function(e){var i,n;if(t.createStyleSheet)try{return void(t.createStyleSheet().cssText=e)}catch(t){n=!0}(i=t.createElement("style")).type="text/css",t.getElementsByTagName("head")[0].appendChild(i),n?t.styleSheets[t.styleSheets.length-1].cssText=e:i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e},i.fn.simpledraw=function(e,n,s,o){var r,a;if(s&&(r=this.data("_jqs_vcanvas")))return r;if(!1===i.fn.sparkline.canvas)return!1;if(void 0===i.fn.sparkline.canvas){var l=t.createElement("canvas");if(l.getContext&&l.getContext("2d"))i.fn.sparkline.canvas=function(t,e,i,n){return new H(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return i.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(t,e,i,n){return new L(t,e,i)}}}return void 0===e&&(e=i(this).innerWidth()),void 0===n&&(n=i(this).innerHeight()),r=i.fn.sparkline.canvas(e,n,this,o),(a=i(this).data("_jqs_mhandler"))&&a.registerCanvas(r),r},i.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},i.RangeMapClass=m=s({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,s=this.rangelist;if(void 0!==(n=this.map[t]))return n;if(s)for(e=s.length;e--;)if(i=s[e],i[0]<=t&&i[1]>=t)return i[2]}}),i.range_map=function(t){return new m(t)},v=s({init:function(t,e){var n=i(t);this.$el=n,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=i(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(i.proxy(this.mouseenter,this)),e.mouseleave(i.proxy(this.mouseleave,this)),e.click(i.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var e=i.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){i(t.body).unbind("mousemove.jqs"),i(t.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new b(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){i(t.body).unbind("mousemove.jqs");var e,n,s=this.splist,o=s.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),n=0;n<o;n++)e=s[n],e.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,n,s,o,r=this.splist,a=r.length,l=!1,h=this.$canvas.offset(),d=this.currentPageX-h.left,p=this.currentPageY-h.top;if(this.over){for(n=0;n<a;n++)e=r[n],(s=e.setRegionHighlight(this.currentEl,d,p))&&(l=!0);if(l){if((o=i.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",n=0;n<a;n++)e=r[n],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),b=s({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var n,s=e.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:o,class:s}),this.tooltip=i("<div/>",{id:"jqstooltip",class:s}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,i(window).unbind("resize.jqs scroll.jqs")}}),i(function(){u(E)}),M=[],i.fn.sparkline=function(e,n){return this.each(function(){var s,o,r=new i.fn.sparkline.options(this,n),a=i(this);if(s=function(){var n,s,o,l,h,d,p;"html"===e||void 0===e?(void 0!==(p=this.getAttribute(r.get("tagValuesAttribute")))&&null!==p||(p=a.html()),n=p.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=e,s="auto"===r.get("width")?n.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&i.data(this,"_jqs_vcanvas")||((l=t.createElement("span")).innerHTML="a",a.html(l),o=i(l).innerHeight()||i(l).height(),i(l).remove(),l=null):o=r.get("height"),r.get("disableInteraction")?h=!1:(h=i.data(this,"_jqs_mhandler"))?r.get("composite")||h.reset():(h=new v(this,r),i.data(this,"_jqs_mhandler",h)),!r.get("composite")||i.data(this,"_jqs_vcanvas")?((d=new(i.fn.sparkline[r.get("type")])(this,n,r,s,o)).render(),h&&h.registerSparkline(d)):i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0))},i(this).html()&&!r.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!r.get("composite")&&i.data(this,"_jqs_pending"))for(o=M.length;o;o--)M[o-1][0]==this&&M.splice(o-1,1);M.push([this,s]),i.data(this,"_jqs_pending",!0)}else s.call(this)})},i.fn.sparkline.defaults=n(),i.sparkline_display_visible=function(){var t,e,n,s=[];for(e=0,n=M.length;e<n;e++)t=M[e][0],i(t).is(":visible")&&!i(t).parents().is(":hidden")?(M[e][1].call(t),i.data(M[e][0],"_jqs_pending",!1),s.push(e)):i(t).closest("html").length||i.data(t,"_jqs_pending")||(i.data(M[e][0],"_jqs_pending",!1),s.push(e));for(e=s.length;e;e--)M.splice(s[e-1],1)},i.fn.sparkline.options=s({init:function(t,e){var n,s,o,r;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},o=(s=i.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),n=(r=this.getTagSetting("type"))===A?s[e.type||o.type]:s[r],this.mergedOptions=i.extend({},o,n,e)},getTagSetting:function(t){var e,i,n,s,o=this.tagOptionsPrefix;if(!1===o||void 0===o)return A;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(void 0===(e=this.tag.getAttribute(o+t))||null===e)e=A;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=l(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)s=n[i].split(":",2),e[s[0].replace(/(^\s*)|(\s*$)/g,"")]=l(s[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==A?n:void 0===(i=this.mergedOptions[t])?e:i}}),i.fn.sparkline._base=s({disabled:!1,init:function(t,e,n,s,o){this.el=t,this.$el=i(t),this.values=e,this.options=n,this.width=s,this.height=o,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,s=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:s!==(n=this.getRegion(t,e,i))&&(void 0!==s&&o&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&o&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,n,s,r,a,l,h,d,p,c,u,g,f,m=this.options,v="",b=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),c=m.get("tooltipFormatter"))return c(this,m,t);if(m.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(i.isArray(e)||(e=[e]),i.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),h=this.options.get("tooltipFormatFieldlistKey"),l&&h){for(d=[],a=t.length;a--;)p=t[a][h],-1!=(f=i.inArray(p,l))&&(d[f]=t[a]);t=d}for(n=e.length,g=t.length,a=0;a<n;a++)for(u=e[a],"string"==typeof u&&(u=new o(u)),s=u.fclass||"jqsfield",f=0;f<g;f++)t[f].isNull&&m.get("tooltipSkipNull")||(i.extend(t[f],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),r=u.render(t[f],m.get("tooltipValueLookups"),m),b.push('<div class="'+s+'">'+r+"</div>"));return b.length?v+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,s,o,a,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(o=[],s=4===t.length?16:1,a=0;a<3;a++)o[a]=r(e.round(parseInt(n[a+1],16)*s*h),0,255);return"rgb("+o.join(",")+")"}return t}}),x={changeHighlight:function(t){var e,n=this.currentRegion,s=this.target,o=this.regionShapes[n];o&&(e=this.renderRegion(n,t),i.isArray(e)||i.isArray(o)?(s.replaceWithShapes(o,e),this.regionShapes[n]=i.map(e,function(t){return t.id})):(s.replaceWithShape(o,e),this.regionShapes[n]=e.id))},render:function(){var t,e,n,s,o=this.values,r=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(n=o.length;n--;)if(t=this.renderRegion(n))if(i.isArray(t)){for(e=[],s=t.length;s--;)t[s].append(),e.push(t[s].id);a[n]=e}else t.append(),a[n]=t.id;else a[n]=null;r.render()}}},i.fn.sparkline.line=y=s(i.fn.sparkline._base,{type:"line",init:function(t,e,i,n,s){y._super.init.call(this,t,e,i,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,s=this.regionMap;for(n=s.length;n--;)if(null!==s[n]&&e>=s[n][0]&&e<=s[n][1])return s[n][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,s=this.vertices[i],o=this.options,r=o.get("spotRadius"),a=o.get("highlightSpotColor"),l=o.get("highlightLineColor");s&&(r&&a&&(t=n.drawCircle(s[0],s[1],r,void 0,a),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(s[0],this.canvasTop,s[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,s,o,r=this.values,a=r.length,l=this.xvalues,h=this.yvalues,d=this.yminmax;for(t=0;t<a;t++)i=r[t],n="string"==typeof r[t],s="object"==typeof r[t]&&r[t]instanceof Array,o=n&&r[t].split(":"),n&&2===o.length?(l.push(Number(o[0])),h.push(Number(o[1])),d.push(Number(o[1]))):s?(l.push(i[0]),h.push(i[1]),d.push(i[1])):(l.push(t),null===r[t]||"null"===r[t]?h.push(null):(h.push(Number(i)),d.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,d),this.miny=this.minyorg=e.min.apply(e,d),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=h,this.yminmax=d},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,n,s,o){var r=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),l=i+e.round(n-n*((a-this.miny)/o)),h=e.round(n*(a-r)/o);this.target.drawRect(t,l,s,h,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,n,s,o,r,a,l,h,d,p,c,u,g,f,v,b,x,w,C,S,$,k,R,E,T,I=this.options,H=this.target,L=this.canvasWidth,M=this.canvasHeight,A=this.vertices,P=I.get("spotRadius"),_=this.regionMap;if(y._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),R=this.xvalues,E=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=r=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,n=this.maxy-this.miny==0?1:this.maxy-this.miny,s=this.yvalues.length-1,P&&(L<4*P||M<4*P)&&(P=0),P&&((($=I.get("highlightSpotColor")&&!I.get("disableInteraction"))||I.get("minSpotColor")||I.get("spotColor")&&E[s]===this.miny)&&(M-=e.ceil(P)),($||I.get("maxSpotColor")||I.get("spotColor")&&E[s]===this.maxy)&&(M-=e.ceil(P),o+=e.ceil(P)),($||(I.get("minSpotColor")||I.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))&&(r+=e.ceil(P),L-=e.ceil(P)),($||I.get("spotColor")||I.get("minSpotColor")||I.get("maxSpotColor")&&(E[s]===this.miny||E[s]===this.maxy))&&(L-=e.ceil(P))),M--,void 0===I.get("normalRangeMin")||I.get("drawNormalOnTop")||this.drawNormalRange(r,o,M,L,n),h=[l=[]],f=v=null,b=E.length,T=0;T<b;T++)d=R[T],c=R[T+1],p=E[T],u=r+e.round((d-this.minx)*(L/t)),g=T<b-1?r+e.round((c-this.minx)*(L/t)):L,v=u+(g-u)/2,_[T]=[f||0,v,T],f=v,null===p?T&&(null!==E[T-1]&&(l=[],h.push(l)),A.push(null)):(p<this.miny&&(p=this.miny),p>this.maxy&&(p=this.maxy),l.length||l.push([u,o+M]),a=[u,o+e.round(M-M*((p-this.miny)/n))],l.push(a),A.push(a));for(x=[],w=[],C=h.length,T=0;T<C;T++)l=h[T],l.length&&(I.get("fillColor")&&(l.push([l[l.length-1][0],o+M]),w.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),x.push(l));for(C=w.length,T=0;T<C;T++)H.drawShape(w[T],I.get("fillColor"),I.get("fillColor")).append();for(void 0!==I.get("normalRangeMin")&&I.get("drawNormalOnTop")&&this.drawNormalRange(r,o,M,L,n),C=x.length,T=0;T<C;T++)H.drawShape(x[T],I.get("lineColor"),void 0,I.get("lineWidth")).append();if(P&&I.get("valueSpots"))for(S=I.get("valueSpots"),void 0===S.get&&(S=new m(S)),T=0;T<b;T++)(k=S.get(E[T]))&&H.drawCircle(r+e.round((R[T]-this.minx)*(L/t)),o+e.round(M-M*((E[T]-this.miny)/n)),P,void 0,k).append();P&&I.get("spotColor")&&null!==E[s]&&H.drawCircle(r+e.round((R[R.length-1]-this.minx)*(L/t)),o+e.round(M-M*((E[s]-this.miny)/n)),P,void 0,I.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&I.get("minSpotColor")&&(d=R[i.inArray(this.minyorg,E)],H.drawCircle(r+e.round((d-this.minx)*(L/t)),o+e.round(M-M*((this.minyorg-this.miny)/n)),P,void 0,I.get("minSpotColor")).append()),P&&I.get("maxSpotColor")&&(d=R[i.inArray(this.maxyorg,E)],H.drawCircle(r+e.round((d-this.minx)*(L/t)),o+e.round(M-M*((this.maxyorg-this.miny)/n)),P,void 0,I.get("maxSpotColor")).append())),this.lastShapeId=H.getLastShapeId(),this.canvasTop=o,H.render()}}}),i.fn.sparkline.bar=w=s(i.fn.sparkline._base,x,{type:"bar",init:function(t,n,s,o,a){var p,c,u,g,f,v,b,x,y,C,S,$,k,R,E,T,I,H,L,M,A,P=parseInt(s.get("barWidth"),10),_=parseInt(s.get("barSpacing"),10),O=s.get("chartRangeMin"),W=s.get("chartRangeMax"),j=s.get("chartRangeClip"),q=1/0,z=-1/0;for(w._super.init.call(this,t,n,s,o,a),v=0,b=n.length;v<b;v++)M=n[v],((p="string"==typeof M&&M.indexOf(":")>-1)||i.isArray(M))&&(E=!0,p&&(M=n[v]=h(M.split(":"))),M=d(M,null),c=e.min.apply(e,M),u=e.max.apply(e,M),c<q&&(q=c),u>z&&(z=u));this.stacked=E,this.regionShapes={},this.barWidth=P,this.barSpacing=_,this.totalBarWidth=P+_,this.width=o=n.length*P+(n.length-1)*_,this.initTarget(),j&&(k=void 0===O?-1/0:O,R=void 0===W?1/0:W),f=[],g=E?[]:f;var F=[],D=[];for(v=0,b=n.length;v<b;v++)if(E)for(T=n[v],n[v]=L=[],F[v]=0,g[v]=D[v]=0,I=0,H=T.length;I<H;I++)null!==(M=L[I]=j?r(T[I],k,R):T[I])&&(M>0&&(F[v]+=M),q<0&&z>0?M<0?D[v]+=e.abs(M):g[v]+=M:g[v]+=e.abs(M-(M<0?z:q)),f.push(M));else M=j?r(n[v],k,R):n[v],null!==(M=n[v]=l(M))&&f.push(M);this.max=$=e.max.apply(e,f),this.min=S=e.min.apply(e,f),this.stackMax=z=E?e.max.apply(e,F):$,this.stackMin=q=E?e.min.apply(e,f):S,void 0!==s.get("chartRangeMin")&&(s.get("chartRangeClip")||s.get("chartRangeMin")<S)&&(S=s.get("chartRangeMin")),void 0!==s.get("chartRangeMax")&&(s.get("chartRangeClip")||s.get("chartRangeMax")>$)&&($=s.get("chartRangeMax")),this.zeroAxis=y=s.get("zeroAxis",!0),C=S<=0&&$>=0&&y?0:0==y?S:S>0?S:$,this.xaxisOffset=C,x=E?e.max.apply(e,g)+e.max.apply(e,D):$-S,this.canvasHeightEf=y&&S<0?this.canvasHeight-2:this.canvasHeight-1,S<C?(A=((E&&$>=0?z:$)-C)/x*this.canvasHeight)!==e.ceil(A)&&(this.canvasHeightEf-=2,A=e.ceil(A)):A=this.canvasHeight,this.yoffset=A,i.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.range=x},getRegion:function(t,i,n){var s=e.floor(i/this.totalBarWidth);return s<0||s>=this.values.length?void 0:s},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=g(this.values[i]),s=[];for(e=n.length;e--;)t=n[e],s.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return s},calcColor:function(t,e,n){var s,o,r=this.colorMapByIndex,a=this.colorMapByValue,l=this.options;return s=this.stacked?l.get("stackedBarColor"):e<0?l.get("negBarColor"):l.get("barColor"),0===e&&void 0!==l.get("zeroColor")&&(s=l.get("zeroColor")),a&&(o=a.get(e))?s=o:r&&r.length>n&&(s=r[n]),i.isArray(s)?s[t%s.length]:s},renderRegion:function(t,n){var s,o,r,a,l,h,d,p,u,g,f=this.values[t],m=this.options,v=this.xaxisOffset,b=[],x=this.range,y=this.stacked,w=this.target,C=t*this.totalBarWidth,S=this.canvasHeightEf,$=this.yoffset;if(d=(f=i.isArray(f)?f:[f]).length,p=f[0],a=c(null,f),g=c(v,f,!0),a)return m.get("nullColor")?(r=n?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),s=$>0?$-1:$,w.drawRect(C,s,this.barWidth-1,0,r,r)):void 0;for(l=$,h=0;h<d;h++){if(p=f[h],y&&p===v){if(!g||u)continue;u=!0}o=x>0?e.floor(S*(e.abs(p-v)/x))+1:1,p<v||p===v&&0===$?(s=l,l+=o):(s=$-o,$-=o),r=this.calcColor(h,p,t),n&&(r=this.calcHighlightColor(r,m)),b.push(w.drawRect(C,s,this.barWidth-1,o-1,r,r))}return 1===b.length?b[0]:b}}),i.fn.sparkline.tristate=C=s(i.fn.sparkline._base,x,{type:"tristate",init:function(t,e,n,s,o){var r=parseInt(n.get("barWidth"),10),a=parseInt(n.get("barSpacing"),10);C._super.init.call(this,t,e,n,s,o),this.regionShapes={},this.barWidth=r,this.barSpacing=a,this.totalBarWidth=r+a,this.values=i.map(e,Number),this.width=s=e.length*r+(e.length-1)*a,i.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,s=this.options,o=this.colorMapByIndex,r=this.colorMapByValue;return r&&(i=r.get(t))?i:o&&o.length>e?o[e]:n[e]<0?s.get("negBarColor"):n[e]>0?s.get("posBarColor"):s.get("zeroBarColor")},renderRegion:function(t,i){var n,s,o,r,a,l,h=this.values,d=this.options,p=this.target;if(n=p.pixelHeight,o=e.round(n/2),r=t*this.totalBarWidth,h[t]<0?(a=o,s=o-1):h[t]>0?(a=0,s=o-1):(a=o-1,s=2),null!==(l=this.calcColor(h[t],t)))return i&&(l=this.calcHighlightColor(l,d)),p.drawRect(r,a,this.barWidth-1,s-1,l,l)}}),i.fn.sparkline.discrete=S=s(i.fn.sparkline._base,x,{type:"discrete",init:function(t,n,s,o,r){S._super.init.call(this,t,n,s,o,r),this.regionShapes={},this.values=n=i.map(n,Number),this.min=e.min.apply(e,n),this.max=e.max.apply(e,n),this.range=this.max-this.min,this.width=o="auto"===s.get("width")?2*n.length:this.width,this.interval=e.floor(o/n.length),this.itemWidth=o/n.length,void 0!==s.get("chartRangeMin")&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),void 0!==s.get("chartRangeMax")&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===s.get("lineHeight")?e.round(.3*this.canvasHeight):s.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,i){var n,s,o,a,l=this.values,h=this.options,d=this.min,p=this.max,c=this.range,u=this.interval,g=this.target,f=this.canvasHeight,m=this.lineHeight,v=f-m;return s=r(l[t],d,p),a=t*u,n=e.round(v-v*((s-d)/c)),o=h.get("thresholdColor")&&s<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(o=this.calcHighlightColor(o,h)),g.drawLine(a,n,a,n+m,o)}}),i.fn.sparkline.bullet=$=s(i.fn.sparkline._base,{type:"bullet",init:function(t,i,n,s,o){var r,a,l;$._super.init.call(this,t,i,n,s,o),this.values=i=h(i),(l=i.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===i[1]?l[2]:l[1],r=e.min.apply(e,i),a=e.max.apply(e,i),r=void 0===n.get("base")?r<0?r:0:n.get("base"),this.min=r,this.max=a,this.range=a-r,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s="auto"===n.get("width")?"4.0em":s,this.target=this.$el.simpledraw(s,o,n.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],s=e.round(this.canvasWidth*((n-this.min)/this.range)),o=this.options.get("rangeColors")[t-2];return i&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,o,o)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),s=this.options.get("performanceColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),s=e.round(.1*this.canvasHeight),o=this.canvasHeight-2*s,r=this.options.get("targetColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(n,s,this.options.get("targetWidth")-1,o-1,r,r)},render:function(){var t,e,i=this.values.length,n=this.target;if($._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),i.fn.sparkline.pie=k=s(i.fn.sparkline._base,{type:"pie",init:function(t,n,s,o,r){var a,l=0;if(k._super.init.call(this,t,n,s,o,r),this.shapes={},this.valueShapes={},this.values=n=i.map(n,Number),"auto"===s.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)l+=n[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,i){var n,s,o,r,a,l=this.target,h=this.options,d=this.radius,p=h.get("borderWidth"),c=h.get("offset"),u=2*e.PI,g=this.values,f=this.total,m=c?2*e.PI*(c/360):0;for(r=g.length,o=0;o<r;o++){if(n=m,s=m,f>0&&(s=m+u*(g[o]/f)),t===o)return a=h.get("sliceColors")[o%h.get("sliceColors").length],i&&(a=this.calcHighlightColor(a,h)),l.drawPieSlice(d,d,d-p,n,s,void 0,a);m=s}},render:function(){var t,i,n=this.target,s=this.values,o=this.options,r=this.radius,a=o.get("borderWidth");if(k._super.render.call(this)){for(a&&n.drawCircle(r,r,e.floor(r-a/2),o.get("borderColor"),void 0,a).append(),i=s.length;i--;)s[i]&&(t=this.renderSlice(i).append(),this.valueShapes[i]=t.id,this.shapes[t.id]=i);n.render()}}}),i.fn.sparkline.box=R=s(i.fn.sparkline._base,{type:"box",init:function(t,e,n,s,o){R._super.init.call(this,t,e,n,s,o),this.values=i.map(e,Number),this.width="auto"===n.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,i,n,s,o,r,l,h,d,p,c,u=this.target,g=this.values,f=g.length,m=this.options,v=this.canvasWidth,b=this.canvasHeight,x=void 0===m.get("chartRangeMin")?e.min.apply(e,g):m.get("chartRangeMin"),y=void 0===m.get("chartRangeMax")?e.max.apply(e,g):m.get("chartRangeMax"),w=0;if(R._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&g.length>5?(i=g[0],t=g[1],s=g[2],o=g[3],r=g[4],l=g[5],h=g[6]):(t=g[0],s=g[1],o=g[2],r=g[3],l=g[4]);else if(g.sort(function(t,e){return t-e}),s=a(g,1),o=a(g,2),r=a(g,3),n=r-s,m.get("showOutliers")){for(t=l=void 0,d=0;d<f;d++)void 0===t&&g[d]>s-n*m.get("outlierIQR")&&(t=g[d]),g[d]<r+n*m.get("outlierIQR")&&(l=g[d]);i=g[0],h=g[f-1]}else t=g[0],l=g[f-1];this.quartiles=[s,o,r],this.lwhisker=t,this.rwhisker=l,this.loutlier=i,this.routlier=h,c=v/(y-x+1),m.get("showOutliers")&&(w=e.ceil(m.get("spotRadius")),c=(v-=2*e.ceil(m.get("spotRadius")))/(y-x+1),i<t&&u.drawCircle((i-x)*c+w,b/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),h>l&&u.drawCircle((h-x)*c+w,b/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),u.drawRect(e.round((s-x)*c+w),e.round(.1*b),e.round((r-s)*c),e.round(.8*b),m.get("boxLineColor"),m.get("boxFillColor")).append(),u.drawLine(e.round((t-x)*c+w),e.round(b/2),e.round((s-x)*c+w),e.round(b/2),m.get("lineColor")).append(),u.drawLine(e.round((t-x)*c+w),e.round(b/4),e.round((t-x)*c+w),e.round(b-b/4),m.get("whiskerColor")).append(),u.drawLine(e.round((l-x)*c+w),e.round(b/2),e.round((r-x)*c+w),e.round(b/2),m.get("lineColor")).append(),u.drawLine(e.round((l-x)*c+w),e.round(b/4),e.round((l-x)*c+w),e.round(b-b/4),m.get("whiskerColor")).append(),u.drawLine(e.round((o-x)*c+w),e.round(.1*b),e.round((o-x)*c+w),e.round(.9*b),m.get("medianColor")).append(),m.get("target")&&(p=e.ceil(m.get("spotRadius")),u.drawLine(e.round((m.get("target")-x)*c+w),e.round(b/2-p),e.round((m.get("target")-x)*c+w),e.round(b/2+p),m.get("targetColor")).append(),u.drawLine(e.round((m.get("target")-x)*c+w-p),e.round(b/2),e.round((m.get("target")-x)*c+w+p),e.round(b/2),m.get("targetColor")).append()),u.render()}}}),T=s({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),I=s({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,n){t&&(this.width=t,this.height=e,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,s,o){return this.drawShape([[t,e],[i,n]],s,o)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,s,o){return this._genShape("Circle",[t,e,i,n,s,o])},drawPieSlice:function(t,e,i,n,s,o,r){return this._genShape("PieSlice",[t,e,i,n,s,o,r])},drawRect:function(t,e,i,n,s,o){return this._genShape("Rect",[t,e,i,n,s,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){i(e).html(t)},_calculatePixelDims:function(t,e,n){var s;s=this._pxregex.exec(e),this.pixelHeight=s?s[1]:i(n).height(),s=this._pxregex.exec(t),this.pixelWidth=s?s[1]:i(n).width()},_genShape:function(t,e){var i=P++;return e.unshift(i),new T(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=s(I,{init:function(e,n,s,o){H._super.init.call(this,e,n,s),this.canvas=t.createElement("canvas"),s[0]&&(s=s[0]),i.data(s,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:e,height:n,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return void 0!==t&&(n.strokeStyle=t),n.lineWidth=void 0===i?1:i,void 0!==e&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,n,s){var o,r,a=this._getContext(i,n,s);for(a.beginPath(),a.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,r=e.length;o<r;o++)a.lineTo(e[o][0]+.5,e[o][1]+.5);void 0!==i&&a.stroke(),void 0!==n&&a.fill(),void 0!==this.targetX&&void 0!==this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,i,n,s,o,r,a){var l=this._getContext(o,r,a);l.beginPath(),l.arc(i,n,s,0,2*e.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==o&&l.stroke(),void 0!==r&&l.fill()},_drawPieSlice:function(t,e,i,n,s,o,r,a){var l=this._getContext(r,a);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,s,o,!1),l.lineTo(e,i),l.closePath(),void 0!==r&&l.stroke(),a&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,s,o,r){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+s],[e,i+s],[e,i]],o,r)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,s,o=this.shapeseq,r={};for(n=t.length;n--;)r[t[n]]=!0;for(n=o.length;n--;)i=o[n],r[i]&&(o.splice(n,1),delete this.shapes[i],s=n);for(n=e.length;n--;)o.splice(s,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,s=this.shapes,o=n.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<o;i++)t=n[i],e=s[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),L=s(I,{init:function(e,n,s){var o;L._super.init.call(this,e,n,s),s[0]&&(s=s[0]),i.data(s,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,s){var o,r,a,l,h,d,p=[];for(d=0,h=e.length;d<h;d++)p[d]=e[d][0]+","+e[d][1];return o=p.splice(0,1),s=void 0===s?1:s,r=void 0===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+i+'" ',a=void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ',l=p[0]===p[p.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+r+a+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+p.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,s,o,r){return'<v:oval  id="jqsshape'+t+'" '+(void 0===s?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+s+'" ')+(void 0===o?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(i-=n)+"px; left:"+(e-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,i,n,s,o,r,a,l){var h,d,p,c,u,g,f;if(o===r)return"";if(r-o==2*e.PI&&(o=0,r=2*e.PI),d=i+e.round(e.cos(o)*s),p=n+e.round(e.sin(o)*s),c=i+e.round(e.cos(r)*s),u=n+e.round(e.sin(r)*s),d===c&&p===u){if(r-o<e.PI)return"";d=c=i+s,p=u=n}return d===c&&p===u&&r-o<e.PI?"":(h=[i-s,n-s,i+s,n+s,d,p,c,u],g=void 0===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',f=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+n+" wa "+h.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,s,o,r){return this._drawShape(t,[[e,i],[e,i+s],[e+n,i+s],[e+n,i],[e,i]],o,r)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n=i("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);n[0].outerHTML=s},replaceWithShapes:function(t,e){var n,s=i("#jqsshape"+t[0]),o="",r=e.length;for(n=0;n<r;n++)o+=this["_draw"+e[n].type].apply(this,e[n].args);for(s[0].outerHTML=o,n=1;n<t.length;n++)i("#jqsshape"+t[n]).remove()},insertAfterShape:function(t,e){var n=i("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);n[0].insertAdjacentHTML("afterEnd",s)},removeShapeId:function(t){var e=i("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,this.dataOptions(),n),this.init()};e.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null},e.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},e.prototype.dataOptions=function(){var t={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},e=Object.keys(t);for(var i in e){var n=e[i];void 0===t[n]&&delete t[n]}return t},e.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},e.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},e.prototype.restart=function(){this.stop(),this.init(),this.start()},e.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},e.prototype.stop=function(){this.interval&&clearInterval(this.interval)},e.prototype.toggle=function(){this.interval?this.stop():this.start()},t.fn.countTo=function(i){return this.each(function(){var n=t(this),s=n.data("countTo"),o="object"==typeof i?i:{},r="string"==typeof i?i:"start";(!s||"object"==typeof i)&&(s&&s.stop(),n.data("countTo",s=new e(this,o))),s[r].call(s)})}});