<!-- Page Loader -->
<div class="page-loader-wrapper">
    <div class="loader">
        <div class="m-t-30">
            <img class="zmdi-hc-spin" src="assets/images/favicon.ico" width="48" height="48" alt="sQuare">
        </div>
        <p>{{ 'APP.LOADING_MESSAGE' | translate}}</p>
    </div>
</div>
<div class="overlay_menu">
    <button class="btn btn-primary btn-icon btn-icon-mini btn-round">
        <i class="zmdi zmdi-close"></i>
    </button>
    <div class="container">
        <div class="row clearfix">
            <div class="card links">
                <div class="body">
                    <div class="row">

                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12">
                <div class="social">
                    <a class="icon" href="https://www.facebook.com/Project.Nawwar/" target="_blank">
                        <i class="zmdi zmdi-facebook"></i>
                    </a>
                    <p>Nawwar
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Overlay For Sidebars -->
<div class="overlay"></div>
<!-- Top Bar -->
<nav class="navbar">
    <ul class="nav navbar-nav navbar-left">
        <li>
            <div class="navbar-header">
                <a href="javascript:void(0);" class="bars"></a>
                <a class="navbar-brand" routerLink="/dashboard">
                    <img src="assets/images/favicon.ico" width="30" alt="sQuare">
                    <span class="m-l-10">{{ 'APP.NAWWAR' | translate }}</span>
                </a>
            </div>
        </li>
        <li>
            <a href="javascript:void(0);" class="menu-sm" data-close="true">
                <i class="zmdi zmdi-arrow-left"></i>
                <i class="zmdi zmdi-arrow-right"></i>
            </a>
        </li>
        <li class="dropdown app_menu">
            <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button">
                <i class="zmdi zmdi-apps"></i>
            </a>
            <ul class="dropdown-menu pullDown">
                <li *ngFor="let link of links">
                    <a [routerLink]="link.url">
                       <i [ngClass]="'zmdi zmdi-'+link.icon"></i>
                        <span>{{ link.name | translate }}</span>
                    </a>
                </li>
            </ul>
        </li>
        <li class="dropdown notifications hidden-sm-down">
            <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" (click)="getNotifications()">
                <i class="zmdi zmdi-notifications"></i>
                <span class="label-count">{{unreadNotificationsNumber}}</span>
            </a>
            <ul class="dropdown-menu pullDown">
                <li class="body">
                    <ul class="menu list-unstyled">
                        <li *ngFor="let not of notifications">
                            <div *ngIf="not.isRead">
                                <a href={{not.link}}>
                                    <div class="media">
                                        <div class="media-body">
                                            <span class="time"> {{not.date | date:'MM/dd/yyyy HH:mm': 'locale' }} </span>
                                            <span class="message"> {{not.body}} </span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div *ngIf="!not.isRead" class = "bg-dark">
                                    <a href={{not.link}}>
                                        <div class="media">
                                            <div class="media-body">
                                                <span class="time col-primary"> {{not.date | date:'MM/dd/yyyy HH:mm': 'locale' }} </span>
                                                <span class="message text-muted col-white"> {{not.body}} </span>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                        </li>
                    </ul>
                    <li class="footer">
                        <a href="javascript:void(0);">View All</a>
                    </li>
            </ul>
        </li>
        <li class="float-right">
            <a href="javascript:void(0);" class="fullscreen hidden-md-down hidden-sm-down" data-provide="fullscreen">
                <i class="zmdi zmdi-fullscreen"></i>
            </a>
            <a href="javascript:void(0);" (click)="changeLanguage()" title="{{ 'APP.CHANGE_LANGUAGE' | translate }}">
                <i class="zmdi zmdi-globe"></i>
            </a>
            <a [routerLink]="authService.getToken() ? '/auth/sign-out' : '/auth/sign-in'" (click)="isSignedIn()" routerLinkActive="active" class="mega-menu">
                <i class="zmdi zmdi-power"></i>
            </a>
        </li>
    </ul>
</nav>

<!-- Left Sidebar -->
<div>
    <aside id="leftsidebar" class="sidebar">
        <div class="menu">
            <ul class="list">
                <li>
                    <div class="user-info m-b-20">
                        <div class="image">
                            <a *ngIf="username" [routerLink]="'/profile/'+username">
                                <img [src]="!avatar ? 'assets/images/defaultProfilePic.png': avatar" alt="User">
                            </a>
                        </div>
                        <div class="detail">
                            <h4 *ngIf="username">{{firstName + ' ' + lastName}}</h4>
                            <a routerLink="/scheduling/schedule" title="My Schedule">
                                <i class="zmdi zmdi-calendar"></i>
                            </a>
                            <a routerLink="/message" title="Inbox">
                                <i class="zmdi zmdi-email"></i>
                            </a>
                        </div>
                    </div>
                </li>
                <li routerLinkActive="active open" *ngFor="let link of links" [hidden]="link.url === '/admin' && !isAdmin ">
                    <a [routerLink]="link.url">
                       <i [ngClass]="'zmdi zmdi-'+link.icon"></i>
                        <span>{{ link.name | translate }}</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>
</div>
<router-outlet></router-outlet>
