<section class="content blog-page">
  <div class="block-header">
    <div class="row">
      <div class="col-lg-7 col-md-6 col-sm-12">
        <h2>Our Content
          <small>Nawwar</small>
        </h2>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
        <ul class="breadcrumb float-md-right">
          <li class="breadcrumb-item">
            <a routerLink="/dashboard">
              <i class="zmdi zmdi-home"></i> dashboard </a>
          </li>
          <li class="breadcrumb-item active">Contents</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-8 col-md-12 left-box">
        <div *ngFor="let content of contents" class="card single_post">
          <div class="body">
            <h3 *ngIf="content.title" class="m-t-0 m-b-5">
              <a routerLink="/content-view/{{content._id}}">{{ content.title }}</a>
            </h3>
            <ul class="meta">
              <li *ngIf="content.creator">
                <a routerLink="/profile/{{content.creator}}">
                  <i class="zmdi zmdi-account col-blue"></i>Posted By: {{ content.creator }}</a>
              </li>
              <li *ngIf="content.category && content.section">
                <a>
                  <i class="zmdi zmdi-label col-red"></i> {{ content.category }}, {{ content.section }}</a>
              </li>
              <li>
                <a>
                  <i class="zmdi zmdi-comment-text col-blue"></i>Comments: 3</a>
              </li>
            </ul>
          </div>
          <div class="body">
            <div class="img-post m-b-15" *ngIf="content.image">
              <img [src]="content.image" width="100%" height="100%" alt="Awesome Image">
            </div>
            <div *ngIf="content.tags" class="tags-holder">
              <span *ngFor="let tag of getFirstTenTags(content.tags)" class="badge badge-info btn-round">{{tag}}</span>
            </div>
            <div>
              <a routerLink="/content-view/{{content._id}}" title="Watch Now" class="btn btn-round btn-info">Watch Now</a>
            </div>
          </div>
        </div>
        <ul class="pagination pagination-primary">
          <li *ngIf="currentPageNumber>1" class="page-item">
            <a class="page-link" (click)="pageChange(this.currentPageNumber - 1)">Previous</a>
          </li>
          <li *ngFor="let pageNumberForPagination of getPaginationRange()" [ngClass]="{'page-item': true,'active': currentPageNumber === pageNumberForPagination}">
            <a class="page-link" (click)="pageChange(pageNumberForPagination)">{{ pageNumberForPagination }}</a>
          </li>
          <li *ngIf="currentPageNumber<totalNumberOfPages" class="page-item">
            <a class="page-link" (click)="pageChange(this.currentPageNumber + 1)">Next</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-4 col-md-12 right-box">
        <div class="card">
          <div class="body search">
            <div class="input-group m-b-0">
              <input type="text" class="form-control" placeholder="Search..." [(ngModel)]="searchQuery">
              <span class="input-group-addon" (click)="searchContent()">
                <i class="zmdi zmdi-search"></i>
              </span>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="header">
            <h2>
              <strong>Categories</strong>
            </h2>
          </div>
          <div class="body">
            <div class="row clearfix">
              <div class="col-md-12 col-lg-12">
                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="false">
                  <div *ngFor="let category of categories" class="panel panel-primary">
                    <div class="panel-heading" role="tab" id="{{ 'heading' + category.name}}">
                      <h4 class="panel-title">
                        <a role="button" data-toggle="collapse" data-parent="#accordion" href="{{'#collapse'+ category.name}}" aria-expanded="true"
                          [attr.aria-controls]="'collapse' + category.name"> {{ category.name }} </a>
                      </h4>
                    </div>
                    <div id="{{'collapse' + category.name}}" class="panel-collapse collapse in" role="tabpanel" [attr.aria-labelledby]="'heading' + category.name">
                      <div class="panel-body list-group">
                        <button *ngFor="let section of category.sections" type="button" class="list-group-item section-button" (click)="changeCategoryAndSection(category.name,section.name)">{{ section.name }}</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card bg-dark">
          <div class="header">
            <h2>
              <strong>Popular</strong> Content</h2>
          </div>
          <div class="body widget popular-post">
            <div class="row">
              <div class="col-xl-12 col-lg-12">
                <div class="border single_post">
                  <div class="img-post m-b-5">
                    <img src="assets/images/blog/blog-page-2.jpg" alt="Awesome Image">
                  </div>
                  <p class="m-b-0 col-white">Apple Introduces Search Ads Basic</p>
                  <small class="text-muted">Dec 22, 2017</small>
                </div>
                <div class="border single_post m-t-20">
                  <div class="img-post m-b-5">
                    <img src="assets/images/blog/blog-page-3.jpg" alt="Awesome Image">
                  </div>
                  <p class="m-b-0 col-white">new rules, more cars, more races</p>
                  <small class="text-muted">Dec 20, 2017</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>